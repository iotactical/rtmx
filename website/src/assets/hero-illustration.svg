<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400" fill="none">
  <defs>
    <!-- Gradient for connections -->
    <linearGradient id="lineGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#10b981" stop-opacity="0.8"/>
      <stop offset="100%" stop-color="#6ee7b7" stop-opacity="0.4"/>
    </linearGradient>

    <!-- Glow effect -->
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- Card shadow -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#000" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Background grid (subtle) -->
  <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
    <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#262626" stroke-width="0.5"/>
  </pattern>
  <rect width="800" height="400" fill="url(#grid)" opacity="0.5"/>

  <!-- Connection lines (back layer) -->
  <g stroke="url(#lineGrad)" stroke-width="2" fill="none" filter="url(#glow)">
    <!-- Requirements to Tests -->
    <path d="M 200 120 Q 300 80 400 140" stroke-dasharray="4 4">
      <animate attributeName="stroke-dashoffset" from="0" to="-8" dur="1s" repeatCount="indefinite"/>
    </path>
    <path d="M 200 200 Q 300 200 400 180"/>
    <path d="M 200 280 Q 300 320 400 220" stroke-dasharray="4 4">
      <animate attributeName="stroke-dashoffset" from="0" to="-8" dur="1s" repeatCount="indefinite"/>
    </path>

    <!-- Tests to Status -->
    <path d="M 500 180 Q 600 140 680 160"/>
    <path d="M 500 180 Q 600 200 680 200"/>
    <path d="M 500 180 Q 600 260 680 240"/>
  </g>

  <!-- Requirements Column -->
  <g filter="url(#shadow)">
    <rect x="80" y="80" width="120" height="50" rx="6" fill="#171717" stroke="#262626"/>
    <text x="140" y="100" fill="#9ca3af" font-size="10" text-anchor="middle" font-family="monospace">REQ-AUTH-001</text>
    <text x="140" y="118" fill="#10b981" font-size="9" text-anchor="middle" font-family="system-ui">OAuth Login</text>
  </g>

  <g filter="url(#shadow)">
    <rect x="80" y="160" width="120" height="50" rx="6" fill="#171717" stroke="#262626"/>
    <text x="140" y="180" fill="#9ca3af" font-size="10" text-anchor="middle" font-family="monospace">REQ-API-001</text>
    <text x="140" y="198" fill="#10b981" font-size="9" text-anchor="middle" font-family="system-ui">REST API</text>
  </g>

  <g filter="url(#shadow)">
    <rect x="80" y="240" width="120" height="50" rx="6" fill="#171717" stroke="#262626"/>
    <text x="140" y="260" fill="#9ca3af" font-size="10" text-anchor="middle" font-family="monospace">REQ-DATA-001</text>
    <text x="140" y="278" fill="#10b981" font-size="9" text-anchor="middle" font-family="system-ui">Database</text>
  </g>

  <!-- Tests Column (center) -->
  <g filter="url(#shadow)">
    <rect x="380" y="130" width="140" height="100" rx="8" fill="#171717" stroke="#10b981" stroke-width="2"/>
    <text x="450" y="155" fill="#e5e7eb" font-size="11" text-anchor="middle" font-family="system-ui" font-weight="600">pytest</text>
    <text x="450" y="175" fill="#6b7280" font-size="9" text-anchor="middle" font-family="monospace">@pytest.mark.req</text>
    <text x="450" y="195" fill="#22c55e" font-size="10" text-anchor="middle" font-family="monospace">12 passed</text>
    <text x="450" y="215" fill="#f59e0b" font-size="10" text-anchor="middle" font-family="monospace">2 partial</text>
  </g>

  <!-- Status Output (right) -->
  <g filter="url(#shadow)">
    <rect x="620" y="120" width="140" height="160" rx="8" fill="#171717" stroke="#262626"/>

    <!-- Mini terminal header -->
    <rect x="620" y="120" width="140" height="24" rx="8" fill="#2d2d2d"/>
    <circle cx="634" cy="132" r="4" fill="#ff5f56"/>
    <circle cx="648" cy="132" r="4" fill="#ffbd2e"/>
    <circle cx="662" cy="132" r="4" fill="#27ca40"/>
    <text x="690" y="136" fill="#6b7280" font-size="8" text-anchor="middle" font-family="system-ui">rtmx status</text>

    <!-- Progress bar -->
    <rect x="635" y="160" width="110" height="12" rx="2" fill="#262626"/>
    <rect x="635" y="160" width="60" height="12" rx="2" fill="#22c55e"/>
    <rect x="695" y="160" width="20" height="12" fill="#f59e0b"/>
    <rect x="715" y="160" width="30" height="12" rx="2" fill="#ef4444"/>

    <text x="690" y="190" fill="#e5e7eb" font-size="9" text-anchor="middle" font-family="monospace">54.2% Complete</text>

    <text x="640" y="215" fill="#22c55e" font-size="9" font-family="monospace">5 complete</text>
    <text x="640" y="230" fill="#f59e0b" font-size="9" font-family="monospace">3 partial</text>
    <text x="640" y="245" fill="#ef4444" font-size="9" font-family="monospace">4 missing</text>
    <text x="640" y="265" fill="#6b7280" font-size="9" font-family="monospace">12 total</text>
  </g>

  <!-- Labels -->
  <text x="140" y="50" fill="#6b7280" font-size="12" text-anchor="middle" font-family="system-ui" font-weight="600">Requirements</text>
  <text x="450" y="105" fill="#6b7280" font-size="12" text-anchor="middle" font-family="system-ui" font-weight="600">Tests</text>
  <text x="690" y="95" fill="#6b7280" font-size="12" text-anchor="middle" font-family="system-ui" font-weight="600">Status</text>

  <!-- Animated dots on lines -->
  <circle r="4" fill="#10b981" filter="url(#glow)">
    <animateMotion dur="2s" repeatCount="indefinite" path="M 200 200 Q 300 200 400 180"/>
  </circle>
  <circle r="4" fill="#6ee7b7" filter="url(#glow)">
    <animateMotion dur="2s" repeatCount="indefinite" begin="0.5s" path="M 500 180 Q 600 200 680 200"/>
  </circle>
</svg>
